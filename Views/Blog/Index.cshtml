@using System.Linq
@model List<MyCvMvcApp.Models.BlogModel>

    <h2>Blog</h2>

    <p>
        <a class="btn btn-success" asp-action="Create">Add New Post</a>
    </p>

@if (!Model.Any())
{
        <p>No blog posts yet.</p>
}
else
{
    @foreach (var post in Model)
    {
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">@post.Title</h5>
                    <small>By @post.Author on @post.CreatedAt.ToString("dd MMM yyyy")</small>
                    <p class="card-text">
                        @post.Content.Length > 200 ? post.Content.Substring(0, 200) + "..." : post.Content
                    </p>
                    <a class="btn btn-primary" asp-action="Details" asp-route-id="@post.Id">Read More</a>
                </div>
            </div>
    }
}
